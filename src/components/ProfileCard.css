:root {
  --pointer-x: 50%;
  --pointer-y: 50%;
  --pointer-from-center: 0;
  --pointer-from-top: 0.5;
  --pointer-from-left: 0.5;
  --card-opacity: 0;
  --rotate-x: 0deg;
  --rotate-y: 0deg;
  --background-x: 50%;
  --background-y: 50%;
  --grain: none;
  --icon: none;
  --behind-gradient: none;
  --inner-gradient: none;
  /* Monochrome variants (darker) */
  --sunpillar-1: hsl(0, 0%, 70%);
  --sunpillar-2: hsl(0, 0%, 62%);
  --sunpillar-3: hsl(0, 0%, 56%);
  --sunpillar-4: hsl(0, 0%, 50%);
  --sunpillar-5: hsl(0, 0%, 46%);
  --sunpillar-6: hsl(0, 0%, 42%);
  --sunpillar-clr-1: var(--sunpillar-1);
  --sunpillar-clr-2: var(--sunpillar-2);
  --sunpillar-clr-3: var(--sunpillar-3);
  --sunpillar-clr-4: var(--sunpillar-4);
  --sunpillar-clr-5: var(--sunpillar-5);
  --sunpillar-clr-6: var(--sunpillar-6);
  --card-radius: 30px;
}

.pc-card-wrapper {
  perspective: 500px;
  transform: translate3d(0, 0, 0.1px);
  position: relative;
  touch-action: none;
}

.pc-card-wrapper::before {
  content: '';
  position: absolute;
  inset: 0;
  background: inherit;
  background-position: inherit;
  border-radius: inherit;
  transition: all 0.5s ease;
  filter: contrast(1.6) saturate(1.6) blur(24px);
  transform: none;
  background-size: 100% 100%;
  background-image: var(--behind-gradient);
}

.pc-card-wrapper:hover,
.pc-card-wrapper.active {
  --card-opacity: 1;
}

.pc-card-wrapper:hover::before,
.pc-card-wrapper.active::before {
  filter: contrast(1) saturate(2) blur(40px) opacity(1);
  transform: scale(0.9) translate3d(0, 0, 0.1px);
}

.pc-card {
  height: 80svh;
  max-height: 540px;
  display: grid;
  aspect-ratio: 0.718;
  border-radius: var(--card-radius);
  position: relative;
  background-blend-mode: color-dodge, normal, normal, normal;
  animation: glow-bg 12s linear infinite;
  box-shadow: rgba(0, 0, 0, 0.8) calc((var(--pointer-from-left) * 10px) - 3px) calc((var(--pointer-from-top) * 20px) - 6px) 20px -5px;
  transition: transform 1s ease;
  transform: translate3d(0, 0, 0.1px) rotateX(0deg) rotateY(0deg);
  /* Enable container query units for responsive typography */
  container-type: inline-size;
  background-color: rgba(0, 0, 0, 0.85);
  background-size: 100% 100%;
  background-position:
    0 0,
    0 0,
    50% 50%,
    0 0;
  background-image:
    radial-gradient(
      farthest-side circle at var(--pointer-x) var(--pointer-y),
      rgba(255, 255, 255, calc(var(--card-opacity) * 0.60)) 4%,
      rgba(255, 255, 255, calc(var(--card-opacity) * 0.30)) 10%,
      rgba(255, 255, 255, calc(var(--card-opacity) * 0.12)) 50%,
      rgba(0, 0, 0, 0) 100%
    ),
    radial-gradient(35% 52% at 55% 20%, rgba(255,255,255,0.08) 0%, rgba(0,0,0,0) 100%),
    radial-gradient(100% 100% at 50% 50%, rgba(255,255,255,0.05) 1%, rgba(0,0,0,0) 76%),
    conic-gradient(from 124deg at 50% 50%, rgba(255,255,255,0.12) 0%, rgba(255,255,255,0.06) 60%, rgba(255,255,255,0.12) 100%);
  overflow: hidden;
}

.pc-card:hover,
.pc-card.active {
  transition: none;
  transform: translate3d(0, 0, 0.1px) rotateX(var(--rotate-y)) rotateY(var(--rotate-x));
}

.pc-card * {
  display: grid;
  grid-area: 1/-1;
  border-radius: var(--card-radius);
  transform: translate3d(0, 0, 0.1px);
  pointer-events: none;
}

.pc-inside { inset: 1px; position: absolute; background-image: var(--inner-gradient); background-color: rgba(0, 0, 0, 0.9); transform: translate3d(0, 0, 0.01px); }

.pc-shine {
  mask-image: var(--icon);
  mask-mode: luminance;
  mask-repeat: repeat;
  mask-size: 150%;
  mask-position: top calc(200% - (var(--background-y) * 5)) left calc(100% - var(--background-x));
  transition: filter 0.6s ease;
  filter: brightness(0.66) contrast(1.33) saturate(0.33) opacity(0.5);
  animation: holo-bg 18s linear infinite;
  mix-blend-mode: color-dodge;
}

.pc-shine,
.pc-shine::after {
  --space: 5%;
  --angle: -45deg;
  transform: translate3d(0, 0, 1px);
  overflow: hidden;
  z-index: 1;
  background: transparent;
  background-size: cover;
  background-position: center;
  /* Monochrome light streak */
  background-image: linear-gradient(130deg, rgba(255,255,255,0.10), rgba(0,0,0,0)),
                    radial-gradient(farthest-corner circle at var(--pointer-x) var(--pointer-y), rgba(255,255,255,0.04), rgba(0,0,0,0) 120%);
  background-repeat: no-repeat;
  background-size: 180% 160%, 200% 200%;
  background-blend-mode: screen, normal;
}

.pc-shine::before,
.pc-shine::after {
  content: '';
  background-position: center;
  background-size: cover;
  grid-area: 1/1;
  opacity: 0;
}

/* Keep colors stable on hover: no change */
.pc-card:hover .pc-shine,
.pc-card.active .pc-shine {
  filter: brightness(0.66) contrast(1.33) saturate(0.33) opacity(0.5);
  animation: holo-bg 18s linear infinite;
}

.pc-card:hover .pc-shine::before,
.pc-card.active .pc-shine::before,
.pc-card:hover .pc-shine::after,
.pc-card.active .pc-shine::after {
  opacity: 0;
}

.pc-shine::before {
  background-image:
    linear-gradient(
      45deg,
      var(--sunpillar-4),
      var(--sunpillar-5),
      var(--sunpillar-6),
      var(--sunpillar-1),
      var(--sunpillar-2),
      var(--sunpillar-3)
    ),
    radial-gradient(circle at var(--pointer-x) var(--pointer-y), hsl(0, 0%, 70%) 0%, hsla(0, 0%, 30%, 0.2) 90%),
    var(--grain);
  background-size:
    250% 250%,
    100% 100%,
    220px 220px;
  background-position:
    var(--pointer-x) var(--pointer-y),
    center,
    calc(var(--pointer-x) * 0.01) calc(var(--pointer-y) * 0.01);
  background-blend-mode: color-dodge;
  filter: brightness(calc(2 - var(--pointer-from-center))) contrast(calc(var(--pointer-from-center) + 2))
    saturate(calc(0.5 + var(--pointer-from-center)));
  mix-blend-mode: luminosity;
}

.pc-shine::after {
  background: none;
  mix-blend-mode: normal;
  filter: none;
}

.pc-glare {
  transform: translate3d(0, 0, 1.1px);
  overflow: hidden;
  background-image: radial-gradient(
    farthest-corner circle at var(--pointer-x) var(--pointer-y),
    rgba(255,255,255,0.35) 12%,
    rgba(0,0,0,0) 90%
  );
  mix-blend-mode: overlay;
  filter: brightness(0.8) contrast(1.2);
  z-index: 1;
}

.pc-avatar-content { mix-blend-mode: normal; overflow: hidden; }

.pc-avatar-content .avatar {
  position: absolute;
  left: 50%;
  bottom: 0;
  transform: translateX(-50%);
  height: 88%; /* reduce a bit globally */
  width: auto;
  max-width: none;
  object-fit: contain;
  opacity: calc(1.6 - var(--pointer-from-center));
  filter: contrast(1.05);
  z-index: 6;
}

@media (orientation: portrait) {
  .pc-avatar-content .avatar {
    height: 74%; /* smaller in vertical to avoid overwhelming */
    bottom: 4%;
  }
}

/* Subtle centered BPM logo */
.pc-logo-bg {
  position: absolute;
  inset: 0;
  background-image: var(--logo-url);
  background-repeat: no-repeat;
  background-position: center 38%;
  background-size: min(52%, 360px);
  opacity: 0.06;
  filter: blur(0.5px);
  pointer-events: none;
  z-index: 0;
}

/* Portrait blue tint and oval vignette */
.pc-vignette {
  position: absolute;
  left: 50%; top: 42%;
  width: 60%; height: 38%;
  transform: translate(-50%, -50%);
  background: radial-gradient(ellipse at center, rgba(255,255,255,0.10), rgba(0,0,0,0) 70%);
  filter: blur(18px);
  z-index: 0;
}
.pc-avatar-tint {
  position: absolute;
  inset: 0;
  /* Subtle neutral light to keep overall B/W mood */
  background: radial-gradient(60% 40% at 50% 40%, rgba(255,255,255,0.08), rgba(0,0,0,0));
  mix-blend-mode: screen;
  pointer-events: none;
}

.pc-avatar-content::before {
  content: '';
  position: absolute;
  inset: 0;
  z-index: 1;
  backdrop-filter: blur(30px);
  mask: linear-gradient(
    to bottom,
    rgba(0, 0, 0, 0) 0%,
    rgba(0, 0, 0, 0) 60%,
    rgba(0, 0, 0, 1) 90%,
    rgba(0, 0, 0, 1) 100%
  );
  pointer-events: none;
}

.pc-user-info {
  position: absolute;
  bottom: 22px;
  left: 20px;
  right: 20px;
  z-index: 12; /* above avatar */
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(255, 255, 255, 0.045);
  /* Slightly stronger frosted effect */
  backdrop-filter: blur(16px) saturate(1.15);
  -webkit-backdrop-filter: blur(16px) saturate(1.15);
  border: 1px solid rgba(255, 255, 255, 0.06);
  border-radius: 18px;
  padding: 10px 12px;
  pointer-events: auto;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.35);
}

.pc-user-details { display: none; }
.pc-mini-avatar { display: none; }
.pc-user-text { display: none; }
.pc-handle { display: none; }
.pc-status { display: none; }

.pc-contact-btn { display: none; }

/* Social icons only */
.pc-socials { display: flex; gap: 12px; align-items: center; justify-content: center; }
.pc-icon-btn { width: 38px; height: 38px; border-radius: 10px; display: inline-flex; align-items: center; justify-content: center; color: #ffffff; background: linear-gradient(180deg, rgba(255,255,255,0.10), rgba(255,255,255,0.02)); border: 1px solid rgba(255,255,255,0.15); box-shadow: 0 2px 10px rgba(0,0,0,0.25); transition: transform 0.15s ease, border-color 0.15s ease; }
.pc-icon-btn:hover { transform: translateY(-1px); border-color: rgba(255,255,255,0.4); }
.pc-icon-btn svg { display: block; }

.pc-content { max-height: 100%; overflow: visible; text-align: center; position: relative; transform: translate3d(calc(var(--pointer-from-left) * -6px + 3px), calc(var(--pointer-from-top) * -6px + 3px), 0.1px) !important; z-index: 5; }
.pc-text { mix-blend-mode: luminosity; }
.pc-details { width: 100%; position: absolute; top: 48px; display: flex; flex-direction: column; }
.pc-title { margin: 0; font-weight: 700; letter-spacing: -0.02em; font-size: clamp(28px, 10.5cqw, 40px); line-height: 1.02; color: #ffffff; text-shadow: 0 2px 16px rgba(255,255,255,0.14); }
.pc-subtitle { margin: 8px auto 0; font-size: 15px; letter-spacing: 0.04em; opacity: 0.7; color: #cfcfcf; }

/* Ambient glyphs */
.pc-ambient { position: absolute; inset: 0; overflow: hidden; pointer-events: none; }
.pc-ambient .glyph { position: absolute; color: rgba(255,255,255,0.08); filter: blur(10px) saturate(0.8); font-weight: 700; font-size: 18px; transform: translate3d(calc((var(--pointer-from-left) - 0.5) * 6px), calc((var(--pointer-from-top) - 0.5) * 6px), 0); }
.pc-ambient .glyph:nth-child(1) { top: 16%; left: 20%; }
.pc-ambient .glyph:nth-child(2) { top: 28%; right: 18%; }
.pc-ambient .glyph:nth-child(3) { bottom: 26%; left: 24%; }
.pc-ambient .glyph:nth-child(4) { bottom: 18%; right: 26%; }
.pc-ambient .glyph:nth-child(5) { top: 44%; left: 48%; }

/* Diagonal light streaks */
.pc-light-streaks::before,
.pc-light-streaks::after { content: ''; position: absolute; left: -20%; top: -10%; width: 70%; height: 40%; background: linear-gradient(130deg, rgba(255,255,255,0.14), rgba(0,0,0,0)); filter: blur(30px); transform: rotate(-8deg); pointer-events: none; }
.pc-light-streaks::after { left: auto; right: -25%; top: -15%; width: 60%; height: 30%; transform: rotate(-18deg); background: linear-gradient(140deg, rgba(255,255,255,0.10), rgba(0,0,0,0)); }

@keyframes glow-bg { 0% { --bgrotate: 0deg; } 100% { --bgrotate: 360deg; } }
@keyframes holo-bg { 0% { background-position: 0 var(--background-y), 0 0, center; } 100% { background-position: 0 var(--background-y), 90% 90%, center; } }

@media (max-width: 768px) {
  .pc-card {
    height: 70svh;
    max-height: 450px;
  }

  .pc-details {
    top: 2em;
  }

  .pc-details h3 {
    font-size: min(4svh, 2.5em);
  }

  .pc-details p {
    font-size: 14px;
  }

  .pc-user-info {
    bottom: 15px;
    left: 15px;
    right: 15px;
    padding: 10px 12px;
  }

  .pc-mini-avatar {
    width: 28px;
    height: 28px;
  }

  .pc-user-details {
    gap: 10px;
  }

  .pc-handle {
    font-size: 13px;
  }

  .pc-status {
    font-size: 10px;
  }

  .pc-contact-btn {
    display: none;
  }
}

@media (max-width: 480px) {
  .pc-card {
    height: 60svh;
    max-height: 380px;
  }

  .pc-details {
    top: 1.5em;
  }

  .pc-details h3 {
    font-size: min(3.5svh, 2em);
  }

  .pc-details p {
    font-size: 12px;
    top: -8px;
  }

  .pc-user-info {
    bottom: 12px;
    left: 12px;
    right: 12px;
    padding: 8px 10px;
    border-radius: 50px;
  }

  .pc-mini-avatar {
    width: 24px;
    height: 24px;
  }

  .pc-user-details {
    gap: 8px;
  }

  .pc-handle {
    font-size: 12px;
  }

  .pc-status {
    font-size: 9px;
  }

  .pc-contact-btn {
    display: none;
  }
}

@media (max-width: 320px) {
  .pc-card {
    height: 55svh;
    max-height: 320px;
  }

  .pc-details h3 {
    font-size: min(3svh, 1.5em);
  }

  .pc-details p {
    font-size: 11px;
  }

  .pc-user-info {
    padding: 6px 8px;
    border-radius: 50px;
  }

  .pc-mini-avatar {
    width: 20px;
    height: 20px;
  }

  .pc-user-details {
    gap: 6px;
  }

  .pc-handle {
    font-size: 11px;
  }

  .pc-status {
    font-size: 8px;
  }

  .pc-contact-btn {
    display: none;
  }
}

/* Featured/compact sizing helpers (restore) */
.pc-card-wrapper.is-compact .pc-card { height: 360px; max-height: 360px; }
.pc-card-wrapper.is-featured .pc-card { height: 520px; max-height: 520px; }
